<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>duo API documentation</title>
<meta name="description" content="DUO = data miners used / used-by optimizers.
(c) Tim Menzies, 2021 MIT License, https://opensource.org/licenses/MIT â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<link rel="preconnect" href="https://www.google.com">
<script async src="https://cse.google.com/cse.js?cx=017837193012385208679:pey8ky8gdqw"></script>
<style>
.gsc-control-cse {padding:0 !important;margin-top:1em}
body.gsc-overflow-hidden #sidebar {overflow: visible;}
</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>duo</code></h1>
</header>
<section id="section-intro">
<p>DUO = data miners used / used-by optimizers.
(c) Tim Menzies, 2021 MIT License, <a href="https://opensource.org/licenses/MIT.">https://opensource.org/licenses/MIT.</a></p>
<p>Sort the data by how much each row dominates over rows.
Split the
sort into 'bad' and 'better'. Discretize data, combining any splits
that do not comment on those splits.
Count how often ranges appear
in 'bad' or 'better'.
Sort the ranges by how likely they appear
in better.
Build rules by combining different ranges; i.e.
pick
pairs of better ranges, combine them, then sort them back into the
list.</p>
<pre><code> :-------:                 explore  = better==bad
 | Ba    | Bad &lt;----.      planning = max(better - bad)
 |    56 |          |      monitor  = max(bad - better)
 :-------:------:   |      tabu     = min(bad + better)
         | B    |   v
         |    5 | Better
         :------:
</code></pre>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="duo.table"><code class="name flex">
<span>def <span class="ident">table</span></span>(<span>src)</span>
</code></dt>
<dd>
<div class="desc"><p>Converts a list of cells into rows, summarized in columns. Row1
name describes each column.
Names with '&gt;' and '&lt;' are goals to maximize or minimize (respectively). For example, in
the following, we want to minimize weight (lbs) while maximizing acceleration (acc)
and miles per gallon (mpg).</p>
<pre><code>cylinders,displ,hp,&lt;lbs,&gt;acc,model,origin,&gt;mpg
</code></pre>
<p>For example, after reading weather.csv,
then <code>.cols</code> would have entries like the following (and note that
the first is for a symbolic column and the second is for a numeric):</p>
<pre><code>    {'outlook' :  {
            'has': # 'has' for symbolic is a dictionary
                   {'sunny': 5, 'overcast': 4, 'rainy': 5},
            'n'  : 14,
            'pos': 0,
            'txt': '_outlook',
             'w' : 1}
     '&lt;temp'   :   {
            'has': # 'has' for  numerics is a list
                   [64, 85], # min and max value seen in this columnm
            'n'  : 14,
            'pos': 1,
            'txt': '&lt;temp'}
    etc }
</code></pre>
<p>Tables also collect rows with a 'score' (how often that row
dominates 'rowsamples' other rows) and 'klass' which is often often
that score is better than 'best'. e.g. if 'best'=0.5 then 'klass' is
true if this row 'scores' better than half the others; e.g. from
../data/auto93.csv, here are the first and last four rows sorted by
'score'. Observe that we want to minimize lbs and maximize acc and mpg.
Hence, in the last rows, lbs is lower and acc and mpg is larger:</p>
<pre><code>score  klass  cylin   displ   hp  &lt;lbs  &gt;acc   model   origin  &gt;mpg
-----  ------ ------- ------- ---  ----  ----  ------  -------  -----
0.0    False  8       400     175  5140  12    71      1        10
0.0    False  8       440     215  4735  11    73      1        10
0.0    False  8       454     220  4354  9     70      1        10
0.0    False  8       455     225  4425  10    70      1        10
0.0    False  8       455     225  4951  11    73      1        10
-----  ------ ------- ------- ---  ----  ----  ------  -------  -----
0.98   True   4       91      60   1800  16.4  78      3        40
0.98   True   4       97      46   1835  20.5  70      2        30
1.0    True   4       85      '?'  1835  17.3  80      2        40
1.0    True   4       86      65   2110  17.9  80      3        50
1.0    True   4       97      52   2130  24.6  82      2        40
</code></pre>
<p>Also note that the 'klass' is 'True' for the better half and 'False'
otherwise.</p></div>
</dd>
<dt id="duo.classify"><code class="name flex">
<span>def <span class="ident">classify</span></span>(<span>tbl)</span>
</code></dt>
<dd>
<div class="desc"><p>Count how often each row dominates some others.
Classify a row as True if it scores in the top <em>best</em> range.</p></div>
</dd>
<dt id="duo.discretize"><code class="name flex">
<span>def <span class="ident">discretize</span></span>(<span>TBL)</span>
</code></dt>
<dd>
<div class="desc"><p>Reports <code>bins</code> for each numeric columns. Initially,
columns of <code>N</code> (x,y) values
into bins of size N^Xchop.
Combines bins that are smaller than <code>sd(x)*xsmall</code>. Then combine
bins that are different by less than <code>sd(y)*ysmall</code>. Also, if
two adjacent bins are not not 'best', then they are dull and
we fuse them.
For example, from ../data/auto93.csv, we
get
learn that '-cylinders' effectively divides into 3:</p>
<p>[{'hi': 4, 'lo': -inf},
{'hi': 8, 'lo': 5},
{'hi': inf, 'lo': 5}]</p>
<p>Note that the above used 'best=.5' i.e. we were were dividing data
half:half into best:rest. But we ran the same code with 'best=.8' then
we find a different picture of what is interesting or not:</p>
<p>[{'hi': 4, 'lo': -inf},
{'hi': inf, 'lo': 3}]</p>
<p>That is, at 'best=.8' all we care about is whether or not 'cylinders'
is above or below 3.;</p></div>
</dd>
<dt id="duo.counts"><code class="name flex">
<span>def <span class="ident">counts</span></span>(<span>TBL)</span>
</code></dt>
<dd>
<div class="desc"><p>Counts (class column attribute) inside <code>TBL</code>
(where attributes are the discretized attributes).
THe counts take the form: (cKass,attribute,range,col), count.
For example, with best=.9, the counts from ../data/auto93.csv
are as follows. Note the simplicity of the decision space:
all that matters is displacement and horsepower is above below
141 and 74</p>
<p>(False, 'displacement', 141, 1) 154
(False, 'displacement', inf, 1) 205
(False, 'horsepower', 74, 2) 48
(False, 'horsepower', inf, 2) 307
....
(True, 'displacement', 141, 1) 38
(True, 'displacement', inf, 1) 1
(True, 'horsepower', 74, 2) 34
(True, 'horsepower', inf, 2) 3
....</p></div>
</dd>
<dt id="duo.learn"><code class="name flex">
<span>def <span class="ident">learn</span></span>(<span>COUNTS)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="duo.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<center>
<a href="http://menzies.us/duo"><img src="letscook.png" width=500></a>
<p><a href="#license">&copy; 2021</a>, Tim Menzies<br>
<a href="mailto:timm@ieee.org">timm@ieee.org</a><br>
<a href="http://menzies.us">http://menzies.us</a>
</p>
<p>
"Give me the fruitful error any time,
full of seeds, bursting with its own
corrections. You can keep your sterile
truth for yourself."
-&nbsp;Vilfredo&nbsp;Pareto</p>
<p>
<br><img src="https://img.shields.io/badge/language-python3,bash-blue">
<br><img src="https://img.shields.io/badge/purpose-ai%20,%20se-blueviolet">
<br><img src="https://img.shields.io/badge/license-mit-lightgrey"></p><hr>
<p>
<a href="https://github.com/timm/duo/blob/master/README.md"><img src="github.png" width=40></a>
<a href="https://github.com/timm/duo/archive/master.zip"> <img src="zip.png" width=40></a>
</p>
</center>
<div class="gcse-search" style="height: 70px"
data-as_oq="inurl:github.com/timm/bnbad2 site:menzies.us/bndbad2"
data-gaCategoryParameter="duo">
</div>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="duo.table" href="#duo.table">table</a></code></li>
<li><code><a title="duo.classify" href="#duo.classify">classify</a></code></li>
<li><code><a title="duo.discretize" href="#duo.discretize">discretize</a></code></li>
<li><code><a title="duo.counts" href="#duo.counts">counts</a></code></li>
<li><code><a title="duo.learn" href="#duo.learn">learn</a></code></li>
<li><code><a title="duo.main" href="#duo.main">main</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>