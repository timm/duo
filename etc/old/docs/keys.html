<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>keys API documentation</title>
<meta name="description" content="keys.py
(c) 2021, Tim Menzies, MIT license â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>keys</code></h1>
</header>
<section id="section-intro">
<p>keys.py
(c) 2021, Tim Menzies, MIT license.
</p>
<p>USAGE ./keys.py [OPTIONS]
</p>
<p>-t S
run demo functions matching S<br>
-T
run all demo functions<br>
-L
list all demo functions<br>
-h
run help<br>
-C
show copyright
</p>
<hr>
<p>CLASSES:</p>
<ul>
<li>Col(txt="", pos=0). <em>pos is the column number</em><ul>
<li>Num(all, w=1).
<em>If minimizing then w=-1.</em></li>
<li>Sym(all, most, mode)</li>
<li>Some(all, keep=256).
<em>Only keep some samples.</em></li>
</ul>
</li>
<li>Cols(all=Col+, x=Col+, y=Col+).
<em>x,y &subseteq; all</em></li>
<li>Row(cells=[], tag=0).
<em>tag is the row cluster i.</em></li>
<li>Tab(cols=Cols, rows=Row+, header=[]). <em>header is line1 of data.</em></li>
</ul>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3
# vim: ts=2 sw=2 sts=2 et tw=81 fdm=indent:
&#34;&#34;&#34;keys.py
(c) 2021, Tim Menzies, MIT license.     

USAGE ./keys.py [OPTIONS]  
  
 -t S  run demo functions matching S  
 -T    run all demo functions  
 -L    list all demo functions  
 -h    run help  
 -C    show copyright  

-----------------------

CLASSES:

- Col(txt=&#34;&#34;, pos=0). _pos is the column number_
    - Num(all, w=1).  _If minimizing then w=-1._
    - Sym(all, most, mode)
    - Some(all, keep=256).  _Only keep some samples._
- Cols(all=Col+, x=Col+, y=Col+).  _x,y &amp;subseteq; all_
- Row(cells=[], tag=0).  _tag is the row cluster i._
- Tab(cols=Cols, rows=Row+, header=[]). _header is line1 of data._
&#34;&#34;&#34;
from types import FunctionType as fun
import re, sys, inspect, pyfiglet, datetime
import random 

class t:
  &#34;Fast inits, print the non-private slots (those that don&#39;t start with `_`.&#34;
  def __init__(i, **d): i.__dict__.update(d)
  def __repr__(i):      return &#34;{&#34;+ &#39;, &#39;.join( 
                          [f&#34;:{k} {v}&#34; for k, v in sorted(i.__dict__.items()) 
                          if type(v)!=fun and k[0] != &#34;_&#34;])+&#34;}&#34;

the = t(ch = t(no=&#34;?&#34;, sep=&#34;,&#34;))

def column( pos=0,txt=&#34;&#34;): 
  &#34;Factory for generating different kinds of column.&#34;
  what = (Col if it.ch.no in txt else (Num if txt[0].isupper() else Sym))
  return what(pos=pos, txt=txt) 

class Col(t):
  &#34;&#34;&#34;Base object for all other columns. `add()`ing items
  increments the `n` counter.&#34;&#34;&#34;
  def __init__(i,pos=0, txt=&#34;&#34;):  
    i.pos, i.txt, i.n, i.w = pos,txt,0,1
  def add(i,x) : 
    if x != the.ch.no:
      x = i.prep(x); i.n+= 1; i.add1(x)
    return x
  def add1(i,x):  return x
  def prep(i,x):  return x

class Num(Col):
  &#34;&#34;&#34;
  - `add` accumulates numbers into `_all`.
  - `all()` returns that list, sorted. Can report
  - `sd()` (standard deviation) and `mid()` (median point).
  - Also knows how to `norm()` normalize numbers.
  &#34;&#34;&#34; 
  def __init__(i, w=0, txt=&#34;&#34;,pos=0): 
    super().__init__(txt=txt, pos=0) 
    i._all=[]; i.ok=False; i.w=(-1 if &#34;-&#34; in txt else 1)
  def add1(i,x) : 
    i._all += [x]
    i.ok=False
  def all(i):
    i._all = i._all if i.ok else sorted(i._all)
    i.ok = True
    return i._all
  def mid(i):    a=i.all(); return a[int(len(a)/2)]
  def norm(i,x): a=i.all(); return (x-a[0])/(a[-1] - a[0])
  def prep(i,x): return float(x)
  def sd(i):     a=i.all(); return (a[int(.9*len(a))] - a[int(.1*len(a))])/2.56

class  Sym(Col):
  &#34;Here, `add` tracks symbol counts, including `mode`.&#34;
  def __init__(i, **kw): 
    super().__init__(**kw)
    i._all={}; i.mode=None; i.max=0
  def add1(i,x):
    tmp = i._all[x] = i._all.get(x,0) + 1
    if tmp&gt;i.max: i.max,i.mode = tmp,x
    return x
  def mid(i): return i.mode

class Some(Col):
  &#34;This `add` up to `max` items (and if full, sometimes replace old items).&#34;
  def __init__(i, keep=256, **kw): 
    super().__init__(**kw)
    i._all=[]; i.keep=keep
  def add1(i,x) : 
    r= random.random
    if len(i._all) &lt; i.keep: i._all += [x]
    elif r() &lt; i.keep / i.n: i._all[ int(r()*len(i._all)) ] = x

def data(src, cols=None):
  &#34;Read data, updatiing columns as we go.&#34;
  cols = cols or Cols(next(src))
  for row in src:
    row = [col.add(x) for col,x in zip(cols.all,row)]
    yield cols,row


def Row(x):
  &#34;Thing to store row data.&#34;
  new = on(gt=0, tag=None, cells = (x if type(x) else x.cells))
  def better(i,j,cols):
    s1,s2,n = 0,0,len(cols.y)
    for col in cols.y:
      pos,w = col.pos, col.w
      a,b   = i.cells[pos], j.cells[pos]
      a,b   = col.norm(a), col.norm(b)
      s1   -= math.e**(w*(a-b)/n)
      s2   -= math.e**(w*(b-a)/n)
    return s1/n &lt; s2/n
  return new.has(locals())

def Cols(lst):
  &#34;&#34;&#34;Makes a `Num`,`Sym`, or `Skip`, sores 
  it in `i.all` and either `i.x` or `i.y`.&#34;&#34;&#34;
  new = on(header=lst, x=[], y=[], all=[])
  for pos,txt in enumerate(lst):
    one = column(pos,txt)
    new.all.append(one)
    if &#34;?&#34; not in txt: 
      (new.y if txt[-1] in &#34;+-&#34; else new.x).append(one)
  def ys(i,row): 
    return [row.cells[col.pos] for col in i.y]
  return new.has(dict(ys=ys))

def Tab(src=[], keep=1024, div=lambda z:2*len(z)**.5):
  new = on(_rows=Some(keep=keep), cols=None)
  for cols, row in  data(src):
    new.cols = cols
    new._rows.add(Row(row))
  def clone(i): 
    return Cols([i.cols.header])
  def clusters(i): 
    f= lambda a,b:(0 if id(a)==id(b) else (-1 if a.better(b,cols) else 1))
    return list(chunks(sorted(i.rows(), key=functools.cmp_to_key(f)),
                        div(i.rows())))
  def rows(i): 
    return i._rows._all
  return new.has(locals())

#----------------------------------
def test_tab():
  &#34;make a table&#34;
  t=Tab(csv(&#34;../data/auto93.csv&#34;))
  one = t.cols.all[1]
  t1 = Tab(iter([t.cols.header]))
  rows=[]
  for cols, row in data([t.cols.header]+[row for row in t.rows]):
    rows += [Row(row)]
  print(len(rows))   
  # print([len(a) for a in t.clusters()])
  # ok(395 == one.n, &#34;summarized right?&#34;)
  # print([len(a) for a in t.clusters()])
  # ok(395 == len(t._rows._all),&#34;kept enough?&#34;)
  #

#----------------------------------------------------------------
class Lib:
  colors = dict(
    PURPLE    = &#39;\033[1;35;48m&#39;, CYAN   = &#39;\033[1;36;48m&#39;,
    BOLD      = &#39;\033[1;37;48m&#39;, BLUE   = &#39;\033[1;34;48m&#39;,
    GREEN     = &#39;\033[1;32;48m&#39;, YELLOW = &#39;\033[1;33;48m&#39;,
    RED       = &#39;\033[1;31;48m&#39;, BLACK  = &#39;\033[1;30;48m&#39;,
    UNDERLINE = &#39;\033[4;37;48m&#39;, END    = &#39;\033[1;37;0m&#39;)

  def same(x): return x

  def flair(**d):
    c = lib.colors
    for k,v in d.items(): return c[&#34;BOLD&#34;] + c[k] + v + c[&#34;END&#34;]

  def chunks(a, n):
    &#34;Yield chunks of size `n`. If any left over, add to middle chunk.&#34;
    n    = int(n)
    mid  = len(a)//2-n
    jump = n+n+len(a)%n
    for i in range(0, mid, n): yield a[i:i+n]
    yield a[i+n:i+jump] 
    for i in range(i+jump, len(a), n): yield a[i:i+n]

  def cli(funs,doc=&#34;&#34;):
    a = sys.argv
    for n,flag in enumerate(a):
      if flag==&#34;-h&#34;: print(doc.split(&#34;\n\n----&#34;)[0]); continue
      if flag==&#34;-C&#34;: print(doc.split(&#34;\n\n&#34;)[0]);     continue
      if flag==&#34;-L&#34;: ok.listAllTestFunctions(funs);   continue
      if flag==&#34;-t&#34;: ok.runSomeTests(a[n+1], funs);   continue
      if flag==&#34;-T&#34;: ok.runAllTests(funs);            continue
      if flag[0] == &#34;-&#34; : print(&#34;usage: ./keys.py -[hCt:T] [args]&#34;)

  def csv(file):
    &#34;Read lists from  file strings (separating on commas).&#34;
    with open(file) as fp:
      for line in fp: 
        line = re.sub(r&#39;([\n\t\r ]|#.*)&#39;,&#39;&#39;,line)
        if line: yield line.split(&#34;,&#34;)


class ok:
  fails = False

  def runAllTests(funs):
    print(lib.flair(CYAN=pyfiglet.figlet_format(&#34;tests&#34;, font=&#34;larry3d&#34;)), 
          end=&#34;&#34;)
    print(datetime.datetime.now().strftime(&#34;%c&#34;))
    for k,f in funs.items(): ok.runOneTest(f)

  def runOneTest(fu):
    if type(fu)==fun:
       random.seed(1)
       print(lib.flair(YELLOW=f&#34;\n# {fun.__name__} &#34;+(&#34;-&#34;*25)))
       print(f&#34;[{fu.__name__}] {fu.__doc__}&#34;)
       fu()

  def listAllTestFunctions(funs):
    for k,v in funs.items(): 
       if type(v)==fun: print(k, &#34;\t:&#34;, v.__doc__)

  def ok(x,y):
    print(f&#34;  -- {y} &#34;,end=&#34;&#34;); 
    try:              assert x,y   ; print(lib.flair(GREEN=&#34;PASS&#34;))
    except Exception: ok.fails=True; print(lib.flair(RED  =&#34;FAIL&#34;))

  def runSomeTests(want,funs):
    for k,f in funs.items():
      if want in k: ok.runOneTest(f)

class tests:
  def ok1(): 
    &#34;ok one ing?&#34;
    ok.ok(1&gt;2, &#34;less-ing?&#34;)
  
  def ok2(): 
    &#34;ok two ing?&#34;
    ok.ok(10&gt;2, &#34;more-ing?&#34;)

  def chunks():
    &#34;Divide a list into chunks&#34;
    lst = [x for x in range(87)]
    lst = [len(a) for a in lib.chunks(lst, int(len(lst)**0.5))]
  
  def num():
    &#34;summarising numbers&#34;
    n=Num()
    for x in [&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,
               &#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,
               &#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;]:
      n.add(x)
    print(n.mid(), n.sd())
  
  def sym():
    &#34;summariing numbers&#34;
    s=Sym()
    for x in [&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,
               &#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,
               &#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;]:
      s.add(x)
    ok.ok(&#34;10&#34;==s.mid(),&#34;mid working ?&#34;)
  
  def some():
    &#34;summarize very large sample space&#34;
    n=Some(keep=32)
    [n.add(x) for x in range(10**6)]
    print(sorted(n._all))
   
if __name__ == &#34;__main__&#34;: 
  lib.cli(vars(tests), __doc__)
  sys.exit(ok.fails)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="keys.column"><code class="name flex">
<span>def <span class="ident">column</span></span>(<span>pos=0, txt='')</span>
</code></dt>
<dd>
<div class="desc"><p>Factory for generating different kinds of column.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def column( pos=0,txt=&#34;&#34;): 
  &#34;Factory for generating different kinds of column.&#34;
  what = (Col if it.ch.no in txt else (Num if txt[0].isupper() else Sym))
  return what(pos=pos, txt=txt) </code></pre>
</details>
</dd>
<dt id="keys.data"><code class="name flex">
<span>def <span class="ident">data</span></span>(<span>src, cols=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Read data, updatiing columns as we go.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def data(src, cols=None):
  &#34;Read data, updatiing columns as we go.&#34;
  cols = cols or Cols(next(src))
  for row in src:
    row = [col.add(x) for col,x in zip(cols.all,row)]
    yield cols,row</code></pre>
</details>
</dd>
<dt id="keys.Row"><code class="name flex">
<span>def <span class="ident">Row</span></span>(<span>x)</span>
</code></dt>
<dd>
<div class="desc"><p>Thing to store row data.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Row(x):
  &#34;Thing to store row data.&#34;
  new = on(gt=0, tag=None, cells = (x if type(x) else x.cells))
  def better(i,j,cols):
    s1,s2,n = 0,0,len(cols.y)
    for col in cols.y:
      pos,w = col.pos, col.w
      a,b   = i.cells[pos], j.cells[pos]
      a,b   = col.norm(a), col.norm(b)
      s1   -= math.e**(w*(a-b)/n)
      s2   -= math.e**(w*(b-a)/n)
    return s1/n &lt; s2/n
  return new.has(locals())</code></pre>
</details>
</dd>
<dt id="keys.Cols"><code class="name flex">
<span>def <span class="ident">Cols</span></span>(<span>lst)</span>
</code></dt>
<dd>
<div class="desc"><p>Makes a <code><a title="keys.Num" href="#keys.Num">Num</a></code>,<code><a title="keys.Sym" href="#keys.Sym">Sym</a></code>, or <code>Skip</code>, sores
it in <code>i.all</code> and either <code>i.x</code> or <code>i.y</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Cols(lst):
  &#34;&#34;&#34;Makes a `Num`,`Sym`, or `Skip`, sores 
  it in `i.all` and either `i.x` or `i.y`.&#34;&#34;&#34;
  new = on(header=lst, x=[], y=[], all=[])
  for pos,txt in enumerate(lst):
    one = column(pos,txt)
    new.all.append(one)
    if &#34;?&#34; not in txt: 
      (new.y if txt[-1] in &#34;+-&#34; else new.x).append(one)
  def ys(i,row): 
    return [row.cells[col.pos] for col in i.y]
  return new.has(dict(ys=ys))</code></pre>
</details>
</dd>
<dt id="keys.Tab"><code class="name flex">
<span>def <span class="ident">Tab</span></span>(<span>src=[], keep=1024, div=&lt;function &lt;lambda&gt;&gt;)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Tab(src=[], keep=1024, div=lambda z:2*len(z)**.5):
  new = on(_rows=Some(keep=keep), cols=None)
  for cols, row in  data(src):
    new.cols = cols
    new._rows.add(Row(row))
  def clone(i): 
    return Cols([i.cols.header])
  def clusters(i): 
    f= lambda a,b:(0 if id(a)==id(b) else (-1 if a.better(b,cols) else 1))
    return list(chunks(sorted(i.rows(), key=functools.cmp_to_key(f)),
                        div(i.rows())))
  def rows(i): 
    return i._rows._all
  return new.has(locals())</code></pre>
</details>
</dd>
<dt id="keys.test_tab"><code class="name flex">
<span>def <span class="ident">test_tab</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>make a table</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_tab():
  &#34;make a table&#34;
  t=Tab(csv(&#34;../data/auto93.csv&#34;))
  one = t.cols.all[1]
  t1 = Tab(iter([t.cols.header]))
  rows=[]
  for cols, row in data([t.cols.header]+[row for row in t.rows]):
    rows += [Row(row)]
  print(len(rows))   
  # print([len(a) for a in t.clusters()])
  # ok(395 == one.n, &#34;summarized right?&#34;)
  # print([len(a) for a in t.clusters()])
  # ok(395 == len(t._rows._all),&#34;kept enough?&#34;)
  #</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="keys.t"><code class="flex name class">
<span>class <span class="ident">t</span></span>
<span>(</span><span>**d)</span>
</code></dt>
<dd>
<div class="desc"><p>Fast inits, print the non-private slots (those that don't start with <code>_</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class t:
  &#34;Fast inits, print the non-private slots (those that don&#39;t start with `_`.&#34;
  def __init__(i, **d): i.__dict__.update(d)
  def __repr__(i):      return &#34;{&#34;+ &#39;, &#39;.join( 
                          [f&#34;:{k} {v}&#34; for k, v in sorted(i.__dict__.items()) 
                          if type(v)!=fun and k[0] != &#34;_&#34;])+&#34;}&#34;</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="keys.Col" href="#keys.Col">Col</a></li>
</ul>
</dd>
<dt id="keys.Col"><code class="flex name class">
<span>class <span class="ident">Col</span></span>
<span>(</span><span>pos=0, txt='')</span>
</code></dt>
<dd>
<div class="desc"><p>Base object for all other columns. <code>add()</code>ing items
increments the <code>n</code> counter.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Col(t):
  &#34;&#34;&#34;Base object for all other columns. `add()`ing items
  increments the `n` counter.&#34;&#34;&#34;
  def __init__(i,pos=0, txt=&#34;&#34;):  
    i.pos, i.txt, i.n, i.w = pos,txt,0,1
  def add(i,x) : 
    if x != the.ch.no:
      x = i.prep(x); i.n+= 1; i.add1(x)
    return x
  def add1(i,x):  return x
  def prep(i,x):  return x</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys.t" href="#keys.t">t</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="keys.Num" href="#keys.Num">Num</a></li>
<li><a title="keys.Some" href="#keys.Some">Some</a></li>
<li><a title="keys.Sym" href="#keys.Sym">Sym</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys.Col.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(i,x) : 
  if x != the.ch.no:
    x = i.prep(x); i.n+= 1; i.add1(x)
  return x</code></pre>
</details>
</dd>
<dt id="keys.Col.add1"><code class="name flex">
<span>def <span class="ident">add1</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add1(i,x):  return x</code></pre>
</details>
</dd>
<dt id="keys.Col.prep"><code class="name flex">
<span>def <span class="ident">prep</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def prep(i,x):  return x</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys.Num"><code class="flex name class">
<span>class <span class="ident">Num</span></span>
<span>(</span><span>w=0, txt='', pos=0)</span>
</code></dt>
<dd>
<div class="desc"><ul>
<li><code>add</code> accumulates numbers into <code>_all</code>.</li>
<li><code>all()</code> returns that list, sorted. Can report</li>
<li><code>sd()</code> (standard deviation) and <code>mid()</code> (median point).</li>
<li>Also knows how to <code>norm()</code> normalize numbers.</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Num(Col):
  &#34;&#34;&#34;
  - `add` accumulates numbers into `_all`.
  - `all()` returns that list, sorted. Can report
  - `sd()` (standard deviation) and `mid()` (median point).
  - Also knows how to `norm()` normalize numbers.
  &#34;&#34;&#34; 
  def __init__(i, w=0, txt=&#34;&#34;,pos=0): 
    super().__init__(txt=txt, pos=0) 
    i._all=[]; i.ok=False; i.w=(-1 if &#34;-&#34; in txt else 1)
  def add1(i,x) : 
    i._all += [x]
    i.ok=False
  def all(i):
    i._all = i._all if i.ok else sorted(i._all)
    i.ok = True
    return i._all
  def mid(i):    a=i.all(); return a[int(len(a)/2)]
  def norm(i,x): a=i.all(); return (x-a[0])/(a[-1] - a[0])
  def prep(i,x): return float(x)
  def sd(i):     a=i.all(); return (a[int(.9*len(a))] - a[int(.1*len(a))])/2.56</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys.Col" href="#keys.Col">Col</a></li>
<li><a title="keys.t" href="#keys.t">t</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys.Num.add1"><code class="name flex">
<span>def <span class="ident">add1</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add1(i,x) : 
  i._all += [x]
  i.ok=False</code></pre>
</details>
</dd>
<dt id="keys.Num.all"><code class="name flex">
<span>def <span class="ident">all</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def all(i):
  i._all = i._all if i.ok else sorted(i._all)
  i.ok = True
  return i._all</code></pre>
</details>
</dd>
<dt id="keys.Num.mid"><code class="name flex">
<span>def <span class="ident">mid</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mid(i):    a=i.all(); return a[int(len(a)/2)]</code></pre>
</details>
</dd>
<dt id="keys.Num.norm"><code class="name flex">
<span>def <span class="ident">norm</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def norm(i,x): a=i.all(); return (x-a[0])/(a[-1] - a[0])</code></pre>
</details>
</dd>
<dt id="keys.Num.prep"><code class="name flex">
<span>def <span class="ident">prep</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def prep(i,x): return float(x)</code></pre>
</details>
</dd>
<dt id="keys.Num.sd"><code class="name flex">
<span>def <span class="ident">sd</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sd(i):     a=i.all(); return (a[int(.9*len(a))] - a[int(.1*len(a))])/2.56</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys.Sym"><code class="flex name class">
<span>class <span class="ident">Sym</span></span>
<span>(</span><span>**kw)</span>
</code></dt>
<dd>
<div class="desc"><p>Here, <code>add</code> tracks symbol counts, including <code>mode</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class  Sym(Col):
  &#34;Here, `add` tracks symbol counts, including `mode`.&#34;
  def __init__(i, **kw): 
    super().__init__(**kw)
    i._all={}; i.mode=None; i.max=0
  def add1(i,x):
    tmp = i._all[x] = i._all.get(x,0) + 1
    if tmp&gt;i.max: i.max,i.mode = tmp,x
    return x
  def mid(i): return i.mode</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys.Col" href="#keys.Col">Col</a></li>
<li><a title="keys.t" href="#keys.t">t</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys.Sym.add1"><code class="name flex">
<span>def <span class="ident">add1</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add1(i,x):
  tmp = i._all[x] = i._all.get(x,0) + 1
  if tmp&gt;i.max: i.max,i.mode = tmp,x
  return x</code></pre>
</details>
</dd>
<dt id="keys.Sym.mid"><code class="name flex">
<span>def <span class="ident">mid</span></span>(<span>i)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mid(i): return i.mode</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys.Some"><code class="flex name class">
<span>class <span class="ident">Some</span></span>
<span>(</span><span>keep=256, **kw)</span>
</code></dt>
<dd>
<div class="desc"><p>This <code>add</code> up to <code>max</code> items (and if full, sometimes replace old items).</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Some(Col):
  &#34;This `add` up to `max` items (and if full, sometimes replace old items).&#34;
  def __init__(i, keep=256, **kw): 
    super().__init__(**kw)
    i._all=[]; i.keep=keep
  def add1(i,x) : 
    r= random.random
    if len(i._all) &lt; i.keep: i._all += [x]
    elif r() &lt; i.keep / i.n: i._all[ int(r()*len(i._all)) ] = x</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="keys.Col" href="#keys.Col">Col</a></li>
<li><a title="keys.t" href="#keys.t">t</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="keys.Some.add1"><code class="name flex">
<span>def <span class="ident">add1</span></span>(<span>i, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add1(i,x) : 
  r= random.random
  if len(i._all) &lt; i.keep: i._all += [x]
  elif r() &lt; i.keep / i.n: i._all[ int(r()*len(i._all)) ] = x</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys.Lib"><code class="flex name class">
<span>class <span class="ident">Lib</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Lib:
  colors = dict(
    PURPLE    = &#39;\033[1;35;48m&#39;, CYAN   = &#39;\033[1;36;48m&#39;,
    BOLD      = &#39;\033[1;37;48m&#39;, BLUE   = &#39;\033[1;34;48m&#39;,
    GREEN     = &#39;\033[1;32;48m&#39;, YELLOW = &#39;\033[1;33;48m&#39;,
    RED       = &#39;\033[1;31;48m&#39;, BLACK  = &#39;\033[1;30;48m&#39;,
    UNDERLINE = &#39;\033[4;37;48m&#39;, END    = &#39;\033[1;37;0m&#39;)

  def same(x): return x

  def flair(**d):
    c = lib.colors
    for k,v in d.items(): return c[&#34;BOLD&#34;] + c[k] + v + c[&#34;END&#34;]

  def chunks(a, n):
    &#34;Yield chunks of size `n`. If any left over, add to middle chunk.&#34;
    n    = int(n)
    mid  = len(a)//2-n
    jump = n+n+len(a)%n
    for i in range(0, mid, n): yield a[i:i+n]
    yield a[i+n:i+jump] 
    for i in range(i+jump, len(a), n): yield a[i:i+n]

  def cli(funs,doc=&#34;&#34;):
    a = sys.argv
    for n,flag in enumerate(a):
      if flag==&#34;-h&#34;: print(doc.split(&#34;\n\n----&#34;)[0]); continue
      if flag==&#34;-C&#34;: print(doc.split(&#34;\n\n&#34;)[0]);     continue
      if flag==&#34;-L&#34;: ok.listAllTestFunctions(funs);   continue
      if flag==&#34;-t&#34;: ok.runSomeTests(a[n+1], funs);   continue
      if flag==&#34;-T&#34;: ok.runAllTests(funs);            continue
      if flag[0] == &#34;-&#34; : print(&#34;usage: ./keys.py -[hCt:T] [args]&#34;)

  def csv(file):
    &#34;Read lists from  file strings (separating on commas).&#34;
    with open(file) as fp:
      for line in fp: 
        line = re.sub(r&#39;([\n\t\r ]|#.*)&#39;,&#39;&#39;,line)
        if line: yield line.split(&#34;,&#34;)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="keys.Lib.colors"><code class="name">var <span class="ident">colors</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="keys.Lib.same"><code class="name flex">
<span>def <span class="ident">same</span></span>(<span>x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def same(x): return x</code></pre>
</details>
</dd>
<dt id="keys.Lib.flair"><code class="name flex">
<span>def <span class="ident">flair</span></span>(<span>**d)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def flair(**d):
  c = lib.colors
  for k,v in d.items(): return c[&#34;BOLD&#34;] + c[k] + v + c[&#34;END&#34;]</code></pre>
</details>
</dd>
<dt id="keys.Lib.chunks"><code class="name flex">
<span>def <span class="ident">chunks</span></span>(<span>a, n)</span>
</code></dt>
<dd>
<div class="desc"><p>Yield chunks of size <code>n</code>. If any left over, add to middle chunk.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def chunks(a, n):
  &#34;Yield chunks of size `n`. If any left over, add to middle chunk.&#34;
  n    = int(n)
  mid  = len(a)//2-n
  jump = n+n+len(a)%n
  for i in range(0, mid, n): yield a[i:i+n]
  yield a[i+n:i+jump] 
  for i in range(i+jump, len(a), n): yield a[i:i+n]</code></pre>
</details>
</dd>
<dt id="keys.Lib.cli"><code class="name flex">
<span>def <span class="ident">cli</span></span>(<span>funs, doc='')</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cli(funs,doc=&#34;&#34;):
  a = sys.argv
  for n,flag in enumerate(a):
    if flag==&#34;-h&#34;: print(doc.split(&#34;\n\n----&#34;)[0]); continue
    if flag==&#34;-C&#34;: print(doc.split(&#34;\n\n&#34;)[0]);     continue
    if flag==&#34;-L&#34;: ok.listAllTestFunctions(funs);   continue
    if flag==&#34;-t&#34;: ok.runSomeTests(a[n+1], funs);   continue
    if flag==&#34;-T&#34;: ok.runAllTests(funs);            continue
    if flag[0] == &#34;-&#34; : print(&#34;usage: ./keys.py -[hCt:T] [args]&#34;)</code></pre>
</details>
</dd>
<dt id="keys.Lib.csv"><code class="name flex">
<span>def <span class="ident">csv</span></span>(<span>file)</span>
</code></dt>
<dd>
<div class="desc"><p>Read lists from
file strings (separating on commas).</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def csv(file):
  &#34;Read lists from  file strings (separating on commas).&#34;
  with open(file) as fp:
    for line in fp: 
      line = re.sub(r&#39;([\n\t\r ]|#.*)&#39;,&#39;&#39;,line)
      if line: yield line.split(&#34;,&#34;)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys.ok"><code class="flex name class">
<span>class <span class="ident">ok</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ok:
  fails = False

  def runAllTests(funs):
    print(lib.flair(CYAN=pyfiglet.figlet_format(&#34;tests&#34;, font=&#34;larry3d&#34;)), 
          end=&#34;&#34;)
    print(datetime.datetime.now().strftime(&#34;%c&#34;))
    for k,f in funs.items(): ok.runOneTest(f)

  def runOneTest(fu):
    if type(fu)==fun:
       random.seed(1)
       print(lib.flair(YELLOW=f&#34;\n# {fun.__name__} &#34;+(&#34;-&#34;*25)))
       print(f&#34;[{fu.__name__}] {fu.__doc__}&#34;)
       fu()

  def listAllTestFunctions(funs):
    for k,v in funs.items(): 
       if type(v)==fun: print(k, &#34;\t:&#34;, v.__doc__)

  def ok(x,y):
    print(f&#34;  -- {y} &#34;,end=&#34;&#34;); 
    try:              assert x,y   ; print(lib.flair(GREEN=&#34;PASS&#34;))
    except Exception: ok.fails=True; print(lib.flair(RED  =&#34;FAIL&#34;))

  def runSomeTests(want,funs):
    for k,f in funs.items():
      if want in k: ok.runOneTest(f)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="keys.ok.fails"><code class="name">var <span class="ident">fails</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="keys.ok.runAllTests"><code class="name flex">
<span>def <span class="ident">runAllTests</span></span>(<span>funs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def runAllTests(funs):
  print(lib.flair(CYAN=pyfiglet.figlet_format(&#34;tests&#34;, font=&#34;larry3d&#34;)), 
        end=&#34;&#34;)
  print(datetime.datetime.now().strftime(&#34;%c&#34;))
  for k,f in funs.items(): ok.runOneTest(f)</code></pre>
</details>
</dd>
<dt id="keys.ok.runOneTest"><code class="name flex">
<span>def <span class="ident">runOneTest</span></span>(<span>fu)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def runOneTest(fu):
  if type(fu)==fun:
     random.seed(1)
     print(lib.flair(YELLOW=f&#34;\n# {fun.__name__} &#34;+(&#34;-&#34;*25)))
     print(f&#34;[{fu.__name__}] {fu.__doc__}&#34;)
     fu()</code></pre>
</details>
</dd>
<dt id="keys.ok.listAllTestFunctions"><code class="name flex">
<span>def <span class="ident">listAllTestFunctions</span></span>(<span>funs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def listAllTestFunctions(funs):
  for k,v in funs.items(): 
     if type(v)==fun: print(k, &#34;\t:&#34;, v.__doc__)</code></pre>
</details>
</dd>
<dt id="keys.ok.ok"><code class="name flex">
<span>def <span class="ident">ok</span></span>(<span>x, y)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ok(x,y):
  print(f&#34;  -- {y} &#34;,end=&#34;&#34;); 
  try:              assert x,y   ; print(lib.flair(GREEN=&#34;PASS&#34;))
  except Exception: ok.fails=True; print(lib.flair(RED  =&#34;FAIL&#34;))</code></pre>
</details>
</dd>
<dt id="keys.ok.runSomeTests"><code class="name flex">
<span>def <span class="ident">runSomeTests</span></span>(<span>want, funs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def runSomeTests(want,funs):
  for k,f in funs.items():
    if want in k: ok.runOneTest(f)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="keys.tests"><code class="flex name class">
<span>class <span class="ident">tests</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class tests:
  def ok1(): 
    &#34;ok one ing?&#34;
    ok.ok(1&gt;2, &#34;less-ing?&#34;)
  
  def ok2(): 
    &#34;ok two ing?&#34;
    ok.ok(10&gt;2, &#34;more-ing?&#34;)

  def chunks():
    &#34;Divide a list into chunks&#34;
    lst = [x for x in range(87)]
    lst = [len(a) for a in lib.chunks(lst, int(len(lst)**0.5))]
  
  def num():
    &#34;summarising numbers&#34;
    n=Num()
    for x in [&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,
               &#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,
               &#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;]:
      n.add(x)
    print(n.mid(), n.sd())
  
  def sym():
    &#34;summariing numbers&#34;
    s=Sym()
    for x in [&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,
               &#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,
               &#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;]:
      s.add(x)
    ok.ok(&#34;10&#34;==s.mid(),&#34;mid working ?&#34;)
  
  def some():
    &#34;summarize very large sample space&#34;
    n=Some(keep=32)
    [n.add(x) for x in range(10**6)]
    print(sorted(n._all))</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="keys.tests.ok1"><code class="name flex">
<span>def <span class="ident">ok1</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>ok one ing?</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ok1(): 
  &#34;ok one ing?&#34;
  ok.ok(1&gt;2, &#34;less-ing?&#34;)</code></pre>
</details>
</dd>
<dt id="keys.tests.ok2"><code class="name flex">
<span>def <span class="ident">ok2</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>ok two ing?</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ok2(): 
  &#34;ok two ing?&#34;
  ok.ok(10&gt;2, &#34;more-ing?&#34;)</code></pre>
</details>
</dd>
<dt id="keys.tests.chunks"><code class="name flex">
<span>def <span class="ident">chunks</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Divide a list into chunks</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def chunks():
  &#34;Divide a list into chunks&#34;
  lst = [x for x in range(87)]
  lst = [len(a) for a in lib.chunks(lst, int(len(lst)**0.5))]</code></pre>
</details>
</dd>
<dt id="keys.tests.num"><code class="name flex">
<span>def <span class="ident">num</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>summarising numbers</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def num():
  &#34;summarising numbers&#34;
  n=Num()
  for x in [&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,
             &#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,
             &#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;]:
    n.add(x)
  print(n.mid(), n.sd())</code></pre>
</details>
</dd>
<dt id="keys.tests.sym"><code class="name flex">
<span>def <span class="ident">sym</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>summariing numbers</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def sym():
  &#34;summariing numbers&#34;
  s=Sym()
  for x in [&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,
             &#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,&#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;,
             &#34;10&#34;,&#34;5&#34;,&#34;?&#34;,&#34;20&#34;]:
    s.add(x)
  ok.ok(&#34;10&#34;==s.mid(),&#34;mid working ?&#34;)</code></pre>
</details>
</dd>
<dt id="keys.tests.some"><code class="name flex">
<span>def <span class="ident">some</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>summarize very large sample space</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def some():
  &#34;summarize very large sample space&#34;
  n=Some(keep=32)
  [n.add(x) for x in range(10**6)]
  print(sorted(n._all))</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<center>
<img width=300 src="http://menzies.us/duo/keys.jpg">
<h3>DUO: data miners<br>using/used-by optimizers</h3>
<p>
<a href="#license">&copy; 2021</a>, Tim Menzies<br>
<a href="mailto:timm@ieee.org">timm@ieee.org</a><br>
<a href="http://menzies.us">http://menzies.us</a>
</p>
<p>
<img src="https://img.shields.io/badge/license-mit-lightgrey">
<img src="https://img.shields.io/badge/purpose-ai%20,%20se-blueviolet">
<br><img src="https://img.shields.io/badge/language-python3,bash-blue">
<hr>
<a href="https://github.com/timm/duo/blob/master/README.md"> github </a> ::
<a href="https://github.com/timm/duo/archive/master.zip">
zip
</a>
<hr>
</center>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="keys.column" href="#keys.column">column</a></code></li>
<li><code><a title="keys.data" href="#keys.data">data</a></code></li>
<li><code><a title="keys.Row" href="#keys.Row">Row</a></code></li>
<li><code><a title="keys.Cols" href="#keys.Cols">Cols</a></code></li>
<li><code><a title="keys.Tab" href="#keys.Tab">Tab</a></code></li>
<li><code><a title="keys.test_tab" href="#keys.test_tab">test_tab</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="keys.t" href="#keys.t">t</a></code></h4>
</li>
<li>
<h4><code><a title="keys.Col" href="#keys.Col">Col</a></code></h4>
<ul class="">
<li><code><a title="keys.Col.add" href="#keys.Col.add">add</a></code></li>
<li><code><a title="keys.Col.add1" href="#keys.Col.add1">add1</a></code></li>
<li><code><a title="keys.Col.prep" href="#keys.Col.prep">prep</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys.Num" href="#keys.Num">Num</a></code></h4>
<ul class="two-column">
<li><code><a title="keys.Num.add1" href="#keys.Num.add1">add1</a></code></li>
<li><code><a title="keys.Num.all" href="#keys.Num.all">all</a></code></li>
<li><code><a title="keys.Num.mid" href="#keys.Num.mid">mid</a></code></li>
<li><code><a title="keys.Num.norm" href="#keys.Num.norm">norm</a></code></li>
<li><code><a title="keys.Num.prep" href="#keys.Num.prep">prep</a></code></li>
<li><code><a title="keys.Num.sd" href="#keys.Num.sd">sd</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys.Sym" href="#keys.Sym">Sym</a></code></h4>
<ul class="">
<li><code><a title="keys.Sym.add1" href="#keys.Sym.add1">add1</a></code></li>
<li><code><a title="keys.Sym.mid" href="#keys.Sym.mid">mid</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys.Some" href="#keys.Some">Some</a></code></h4>
<ul class="">
<li><code><a title="keys.Some.add1" href="#keys.Some.add1">add1</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys.Lib" href="#keys.Lib">Lib</a></code></h4>
<ul class="two-column">
<li><code><a title="keys.Lib.same" href="#keys.Lib.same">same</a></code></li>
<li><code><a title="keys.Lib.flair" href="#keys.Lib.flair">flair</a></code></li>
<li><code><a title="keys.Lib.chunks" href="#keys.Lib.chunks">chunks</a></code></li>
<li><code><a title="keys.Lib.cli" href="#keys.Lib.cli">cli</a></code></li>
<li><code><a title="keys.Lib.csv" href="#keys.Lib.csv">csv</a></code></li>
<li><code><a title="keys.Lib.colors" href="#keys.Lib.colors">colors</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys.ok" href="#keys.ok">ok</a></code></h4>
<ul class="">
<li><code><a title="keys.ok.runAllTests" href="#keys.ok.runAllTests">runAllTests</a></code></li>
<li><code><a title="keys.ok.runOneTest" href="#keys.ok.runOneTest">runOneTest</a></code></li>
<li><code><a title="keys.ok.listAllTestFunctions" href="#keys.ok.listAllTestFunctions">listAllTestFunctions</a></code></li>
<li><code><a title="keys.ok.ok" href="#keys.ok.ok">ok</a></code></li>
<li><code><a title="keys.ok.runSomeTests" href="#keys.ok.runSomeTests">runSomeTests</a></code></li>
<li><code><a title="keys.ok.fails" href="#keys.ok.fails">fails</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="keys.tests" href="#keys.tests">tests</a></code></h4>
<ul class="two-column">
<li><code><a title="keys.tests.ok1" href="#keys.tests.ok1">ok1</a></code></li>
<li><code><a title="keys.tests.ok2" href="#keys.tests.ok2">ok2</a></code></li>
<li><code><a title="keys.tests.chunks" href="#keys.tests.chunks">chunks</a></code></li>
<li><code><a title="keys.tests.num" href="#keys.tests.num">num</a></code></li>
<li><code><a title="keys.tests.sym" href="#keys.tests.sym">sym</a></code></li>
<li><code><a title="keys.tests.some" href="#keys.tests.some">some</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>